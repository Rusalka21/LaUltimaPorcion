<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" th:href="@{/css/style.css}" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<title>Cierre de Caja</title>
</head>
<body>
	<nav class="nav1">
		<a th:href="@{/cajero/inicio}"> <img th:src="@{/img/logo2.JPG}" alt="Logo" />
		</a>
		<ul class="ul1">
			<li class="prim">
				<a th:href="@{/inicio/caja/venta}">Gestión Ventas</a>
			</li>
			<li class="prim">
				<a th:href="@{/inicio/caja/clientes}">Clientes</a>
			</li>
			<li class="prim">
				<a th:href="@{/inicio/caja/historialVentas}">Historial de Ventas</a>
			</li>
			<li class="prim">
				<a th:href="@{/inicio/caja/cierreCaja}">Cierre de Caja</a>
			</li>
		</ul>
		<div class="navigation">
			<div class="user-dropdown">
				<button class="user-btn">
                    <i class="user-icon fa-solid fa-user" id="admin"></i> Cajero
                    <i class="arrow-icon fa-solid fa-caret-down"></i>
                </button>
				<div class="dropdown-content">
					<a th:href="@{/acceso/login}">Cambiar Perfil</a> <a th:href="@{/acceso/cerrar}">Cerrar Sesión</a>
				</div>
			</div>
		</div>
	</nav>
	<div class="cuadro-cierre-caja"><br><br>
		<h2>Cierre de Caja</h2><br><br>

		<div class="detalles-cierre">
			<label for="fecha">Fecha de Sistema:</label>
			<input type="date" id="fechaSistema" disabled>

			<label for="usuario">Supervisor:</label>
			<input type="text" id="supervisor">

			<label for="fechaCierre">Fecha de Cierre:</label>
			<input type="date" id="fechaCierre">

			<label for="saldoApertura">Saldo de Apertura:</label>
			<input type="number" id="saldoApertura" placeholder="Ingrese el saldo de apertura">

			<label for="saldoEfectivo">Conteo Efectivo:</label>
			<input type="number" id="saldoEfectivo" placeholder="Ingrese el monto recaudado en efectivo">

			<label for="pagoTarjeta">Conteo TC:</label>
			<input type="number" id="pagoTarjeta" placeholder="Ingrese el monto recuadado con TC">
		</div>

		<button id="cerrarCajaButton" onclick="cerrarCaja()">Cerrar Caja</button>

		<div class="resumen-pago">
			<h3>Resumen de Métodos de Pago</h3>
			<table>
				<thead>
					<tr>
						<th>Forma de Pago</th>
						<th>Total</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>APERTURA</td>
						<td id="resumenSaldoApertura">0.00</td>
					</tr>
					<tr>
						<td>EFECTIVO</td>
						<td id="resumenSaldoEfectivo">0.00</td>
					</tr>
					<tr>
						<td>INGRESO</td>
						<td id="resumenSaldoTC">0.00</td>
					</tr>
					<tr>
						<td>TOTAL</td>
						<td id="resumenTotal">0.00</td>
					</tr>
				</tbody>
			</table>
		<a th:href="@{/inicio/caja}"><button onclick="irInicioCaja()">Aceptar</button></a>
		</div>		
	</div>

	<script th:src="@{/js/main.js}"></script>
	<script>
		document.getElementById('fechaSistema').valueAsDate = new Date();
		
		var fechaActual = new Date();
		var year = fechaActual.getFullYear();
		var month = fechaActual.getMonth() + 1;
		var day = fechaActual.getDate();
		var fechaActualStr = year + '-' + (month < 10 ? '0' : '') + month + '-' + (day < 10 ? '0' : '') + day;
		document.getElementById("fechaCierre").max = fechaActualStr;
		document.getElementById("fechaCierre").value = fechaActualStr;
	</script>
</body>
</html>